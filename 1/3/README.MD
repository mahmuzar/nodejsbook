## üìå –ó–∞–¥–∞—á–∞

–ù–∞–ø–∏—Å–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é fetchWithRetry(url, maxRetries = 3, delayMs = 1000), –∫–æ—Ç–æ—Ä–∞—è:
____

- –î–µ–ª–∞–µ—Ç GET-–∑–∞–ø—Ä–æ—Å –∫ —É–∫–∞–∑–∞–Ω–Ω–æ–º—É URL —Å –ø–æ–º–æ—â—å—é fetch;
- –í —Å–ª—É—á–∞–µ —É—Å–ø–µ—Ö–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç JSON-–æ—Ç–≤–µ—Ç;
- –í —Å–ª—É—á–∞–µ –æ—à–∏–±–∫–∏ (—Å–µ—Ç–µ–≤–æ–π —Å–±–æ–π, —Ç–∞–π–º–∞—É—Ç, –Ω–µ—É—Å–ø–µ—à–Ω—ã–π —Å—Ç–∞—Ç—É—Å) ‚Äî –ø–æ–≤—Ç–æ—Ä—è–µ—Ç –ø–æ–ø—ã—Ç–∫—É –¥–æ maxRetries —Ä–∞–∑;
- –ú–µ–∂–¥—É –ø–æ–ø—ã—Ç–∫–∞–º–∏ –∂–¥—ë—Ç delayMs –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥;
- –ï—Å–ª–∏ –≤—Å–µ –ø–æ–ø—ã—Ç–∫–∏ –∏—Å—á–µ—Ä–ø–∞–Ω—ã ‚Äî –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç –ø–æ—Å–ª–µ–¥–Ω—é—é –æ—à–∏–±–∫—É.

```js
async function fetchWithRetry(
  url: string,
  maxRetries: number = 3,
  delayMs: number = 1000
): Promise<any> {
  let lastError: Error | null = null;

  for (let attempt = 1; attempt <= maxRetries; attempt++) {
    try {
      const response = await fetch(url);

      // –ï—Å–ª–∏ HTTP-—Å—Ç–∞—Ç—É—Å –Ω–µ –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ 2xx ‚Äî —Å—á–∏—Ç–∞–µ–º –æ—à–∏–±–∫–æ–π
      if (!response.ok) {
        throw new Error(`HTTP ${response.status}: ${response.statusText}`);
      }

      const data = await response.json();
      return data; // –£—Å–ø–µ—Ö ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –¥–∞–Ω–Ω—ã–µ
    } catch (error) {
      lastError = error as Error;
      console.error(`–ü–æ–ø—ã—Ç–∫–∞ ${attempt} –Ω–µ —É–¥–∞–ª–∞—Å—å:`, error.message);

      // –ù–µ –∂–¥—ë–º –ø–æ—Å–ª–µ –ø–æ—Å–ª–µ–¥–Ω–µ–π –ø–æ–ø—ã—Ç–∫–∏
      if (attempt < maxRetries) {
        await new Promise(resolve => setTimeout(resolve, delayMs));
      }
    }
  }

  // –ï—Å–ª–∏ –¥–æ—à–ª–∏ —Å—é–¥–∞ ‚Äî –≤—Å–µ –ø–æ–ø—ã—Ç–∫–∏ –ø—Ä–æ–≤–∞–ª–∏–ª–∏—Å—å
  throw new Error(`–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ—Å–ª–µ ${maxRetries} –ø–æ–ø—ã—Ç–æ–∫. –ü–æ—Å–ª–µ–¥–Ω—è—è –æ—à–∏–±–∫–∞: ${lastError?.message}`);
}
```

## –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```js
(async () => {
  try {
    const data = await fetchWithRetry('https://jsonplaceholder.typicode.com/posts/1', 3, 500);
    console.log('–£—Å–ø–µ—à–Ω–æ –ø–æ–ª—É—á–µ–Ω–æ:', data);
  } catch (error) {
    console.error('–û–∫–æ–Ω—á–∞—Ç–µ–ª—å–Ω—ã–π –ø—Ä–æ–≤–∞–ª:', error.message);
  }
})();
```

## üí° –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
- –¢–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω—ã—Ö –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞—Ö –∏–ª–∏ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω—ã–º–∏ API.
- –í Java/Spring Boot –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –º–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ RetryTemplate –∏–∑ Spring Retry –∏–ª–∏ —Å –ø–æ–º–æ—â—å—é Resilience4j.